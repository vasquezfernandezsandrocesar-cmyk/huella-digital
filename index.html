<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
  <title>Huella Digital - Test Gratis</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500;700&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { 
      font-family: 'Poppins', sans-serif; 
      overflow: hidden; 
      height: 100vh; 
      background: #0a0a1a;
      color: #fff;
      position: relative;
    }

    .bg-vortex {
      position: absolute;
      width: 100%;
      height: 100%;
      background: radial-gradient(circle at center, #1a1a3a 0%, #0a0a1a 70%);
      z-index: 0;
      overflow: hidden;
    }

    .bubble {
      position: absolute;
      border-radius: 50%;
      background-size: contain !important;
      background-repeat: no-repeat;
      background-position: center;
      animation: float 5s infinite ease-in-out;
      box-shadow: 0 6px 20px rgba(0,0,0,0.3);
    }
    @keyframes float {
      0%, 100% { transform: translateY(0) rotate(0deg); }
      50% { transform: translateY(-18px) rotate(6deg); }
    }

    .page { 
      display: none; 
      height: 100vh; 
      padding: clamp(10px, 3vw, 20px); 
      text-align: center; 
      position: relative; 
      z-index: 1;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      overflow-y: auto;
    }
    .page.active { display: flex; }

    .container { 
      max-width: 380px; 
      width: 94%; 
      background: rgba(15, 15, 35, 0.94);
      backdrop-filter: blur(14px);
      border-radius: 24px; 
      padding: clamp(20px, 5vw, 32px); 
      box-shadow: 0 20px 50px rgba(0,0,0,0.5);
      border: 1px solid rgba(255,255,255,0.14);
    }

    h1 { 
      font-size: clamp(28px, 6vw, 34px); 
      background: linear-gradient(45deg, #ff006e, #8338ec, #3a86ff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin-bottom: 8px;
      font-weight: 700;
    }
    p { 
      font-size: clamp(14px, 3.5vw, 16px); 
      opacity: 0.92; 
      margin: 8px 0; 
      line-height: 1.5; 
    }

    label { 
      display: block; 
      padding: clamp(12px, 3vw, 16px); 
      margin: 8px 0; 
      background: rgba(255,255,255,0.1);
      border-radius: 14px; 
      cursor: pointer; 
      transition: all 0.3s ease;
      border: 1px solid rgba(255,255,255,0.18);
      font-weight: 500;
      font-size: clamp(14px, 3.5vw, 15px);
    }
    label:hover { 
      background: rgba(131,56,236,0.25); 
      transform: translateY(-3px);
      box-shadow: 0 10px 25px rgba(131,56,236,0.35);
    }
    input[type="radio"] { 
      margin-right: 10px; 
      accent-color: #ff006e; 
      transform: scale(1.2); 
    }

    button { 
      background: linear-gradient(45deg, #ff006e, #8338ec);
      color: white; 
      border: none; 
      padding: clamp(12px, 3vw, 16px) clamp(24px, 6vw, 36px); 
      font-size: clamp(16px, 4vw, 18px); 
      font-weight: 600;
      border-radius: 50px; 
      cursor: pointer; 
      margin-top: 18px; 
      box-shadow: 0 8px 25px rgba(255,0,110,0.5);
      transition: all 0.3s;
    }
    button:hover { 
      transform: translateY(-3px); 
      box-shadow: 0 14px 35px rgba(255,0,110,0.7); 
    }

    .consejo { 
      margin: 18px 0 0; 
      padding: clamp(12px, 3vw, 16px); 
      background: rgba(58,134,255,0.18);
      border-radius: 14px; 
      font-style: italic; 
      color: #a0d8ff;
      border-left: 4px solid #3a86ff;
      font-weight: 600;
      font-size: clamp(13px, 3.2vw, 14px);
    }

    .progress { 
      position: fixed; 
      bottom: clamp(12px, 3vw, 18px); 
      left: 50%; 
      transform: translateX(-50%);
      display: flex; 
      gap: 8px;
      z-index: 10;
    }
    .dot { 
      width: 10px; 
      height: 10px; 
      background: rgba(255,255,255,0.35); 
      border-radius: 50%; 
      transition: 0.4s;
    }
    .dot.active { 
      background: #ff006e; 
      transform: scale(1.5); 
      box-shadow: 0 0 14px #ff006e;
    }

    .nivel { 
      font-size: clamp(32px, 7vw, 38px); 
      font-weight: 700; 
      margin: 14px 0;
    }

    #impactos p { 
      background: rgba(255,255,255,0.08); 
      padding: clamp(10px, 2.5vw, 12px); 
      border-radius: 12px; 
      margin: 8px 0; 
      text-align: left;
      font-size: clamp(13px, 3.2vw, 14px);
      display: flex;
      align-items: center;
      gap: 8px;
    }
    #impactos p::before {
      content: '→';
      font-weight: bold;
      color: #ff006e;
    }

    canvas { 
      margin: 18px 0; 
      max-height: 180px; 
    }
  </style>
</head>
<body>

  <div class="bg-vortex" id="bubbles"></div>

  <!-- INICIO -->
  <div class="page active" id="inicio">
    <div class="container">
      <h1>Huella Digital</h1>
      <p>¿Cuánto te roban las redes?</p>
      <p><strong>7 preguntas → Tu diagnóstico</strong></p>
      <button onclick="irA(1)">Empezar</button>
      <div class="consejo">Tu atención es tu superpoder. No la regales.</div>
    </div>
  </div>

  <!-- PREGUNTAS -->
  <div class="page" id="p1"><div class="container"><h1>Tiempo</h1><p>¿Cuántas horas al día?</p>
    <label><input type="radio" name="p1" value="0"> Menos de 1h</label>
    <label><input type="radio" name="p1" value="1"> 1-3h</label>
    <label><input type="radio" name="p1" value="2"> 3-5h</label>
    <label><input type="radio" name="p1" value="3"> 5-8h</label>
    <label><input type="radio" name="p1" value="4"> +8h</label>
    <button onclick="siguiente(1,2)">Siguiente</button>
    <div class="consejo">Cada hora en redes = 1 hora que no vives.</div>
  </div></div>

  <div class="page" id="p2"><div class="container"><h1>Redes</h1><p>¿Cuántas usas?</p>
    <label><input type="radio" name="p2" value="0"> 1</label>
    <label><input type="radio" name="p2" value="1"> 2</label>
    <label><input type="radio" name="p2" value="2"> 3</label>
    <label><input type="radio" name="p2" value="3"> 4</label>
    <label><input type="radio" name="p2" value="4"> 5+</label>
    <button onclick="siguiente(2,3)">Siguiente</button>
    <div class="consejo">Menos apps, más vida.</div>
  </div></div>

  <div class="page" id="p3"><div class="container"><h1>Sueño</h1><p>¿Te despiertan notificaciones?</p>
    <label><input type="radio" name="p3" value="0"> Nunca</label>
    <label><input type="radio" name="p3" value="1"> Rara vez</label>
    <label><input type="radio" name="p3" value="2"> A veces</label>
    <label><input type="radio" name="p3" value="3"> A menudo</label>
    <label><input type="radio" name="p3" value="4"> Siempre</label>
    <button onclick="siguiente(3,4)">Siguiente</button>
    <div class="consejo">El sueño es sagrado.</div>
  </div></div>

  <div class="page" id="p4"><div class="container"><h1>Ansiedad</h1><p>¿Sin teléfono sientes ansiedad?</p>
    <label><input type="radio" name="p4" value="0"> Nunca</label>
    <label><input type="radio" name="p4" value="1"> Rara vez</label>
    <label><input type="radio" name="p4" value="2"> A veces</label>
    <label><input type="radio" name="p4" value="3"> A menudo</label>
    <label><input type="radio" name="p4" value="4"> Siempre</label>
    <button onclick="siguiente(4,5)">Siguiente</button>
    <div class="consejo">La paz comienza al apagar la pantalla.</div>
  </div></div>

  <div class="page" id="p5"><div class="container"><h1>Productividad</h1><p>¿Usas redes mientras trabajas?</p>
    <label><input type="radio" name="p5" value="0"> Nunca</label>
    <label><input type="radio" name="p5" value="2"> Rara vez</label>
    <label><input type="radio" name="p5" value="3"> A menudo</label>
    <label><input type="radio" name="p5" value="4"> Siempre</label>
    <button onclick="siguiente(5,6)">Siguiente</button>
    <div class="consejo">Multitasking = distracción.</div>
  </div></div>

  <div class="page" id="p6"><div class="container"><h1>Comparación</h1><p>¿Comparas tu vida con otros?</p>
    <label><input type="radio" name="p6" value="0"> Nunca</label>
    <label><input type="radio" name="p6" value="1"> Rara vez</label>
    <label><input type="radio" name="p6" value="2"> A veces</label>
    <label><input type="radio" name="p6" value="3"> A menudo</label>
    <label><input type="radio" name="p6" value="4"> Siempre</label>
    <button onclick="siguiente(6,7)">Siguiente</button>
    <div class="consejo">Tu vida no es un highlight reel.</div>
  </div></div>

  <div class="page" id="p7"><div class="container"><h1>Estado de Ánimo</h1><p>¿Las redes controlan tu humor?</p>
    <label><input type="radio" name="p7" value="0"> Nunca</label>
    <label><input type="radio" name="p7" value="1"> Rara vez</label>
    <label><input type="radio" name="p7" value="2"> A veces</label>
    <label><input type="radio" name="p7" value="3"> A menudo</label>
    <label><input type="radio" name="p7" value="4"> Siempre</label>
    <button onclick="calcular()">Ver Resultado</button>
    <div class="consejo">Tu mente no es un feed.</div>
  </div></div>

  <!-- RESULTADO -->
  <div class="page" id="resultado">
    <div class="container">
      <h1>Tu Huella</h1>
      <div id="nivel" class="nivel"></div>
      <p id="puntaje" style="font-weight:600;"></p>
      <div id="impactos"></div>
      <canvas id="chart"></canvas>
      <div class="consejo">¡Cambia hoy! Desactiva notificaciones y reconecta con la vida real.</div>
      <button onclick="location.reload()" style="background:#28a745; margin-top:12px;">Hacer de nuevo</button>
    </div>
  </div>

  <div class="progress" id="progress"></div>

  <script>
    const logos = [
      'https://img.icons8.com/fluency/48/instagram-new.png',
      'https://img.icons8.com/fluency/48/tiktok.png',
      'https://img.icons8.com/fluency/48/twitter.png',
      'https://img.icons8.com/fluency/48/whatsapp.png',
      'https://img.icons8.com/fluency/48/snapchat.png',
      'https://img.icons8.com/fluency/48/youtube-play.png',
      'https://img.icons8.com/fluency/48/linkedin.png',
      'https://img.icons8.com/fluency/48/facebook-new.png',
      'https://img.icons8.com/fluency/48/reddit.png',
      'https://img.icons8.com/fluency/48/discord.png',
      'https://img.icons8.com/fluency/48/twitch.png',
      'https://img.icons8.com/fluency/48/pinterest.png'
    ];

    for (let i = 0; i < 70; i++) {
      const b = document.createElement('div');
      b.className = 'bubble';
      const size = 30 + Math.random() * 50;
      b.style.width = b.style.height = size + 'px';
      b.style.left = Math.random() * 90 + '%';
      b.style.top = Math.random() * 90 + '%';
      b.style.animationDelay = Math.random() * 4 + 's';
      const logo = logos[Math.floor(Math.random() * logos.length)];
      b.style.backgroundImage = `url('${logo}')`;
      document.getElementById('bubbles').appendChild(b);
    }

    for (let i = 1; i <= 7; i++) {
      const d = document.createElement('div');
      d.className = 'dot';
      if (i===1) d.classList.add('active');
      document.getElementById('progress').appendChild(d);
    }

    let respuestas = {};

    function irA(p) {
      document.querySelector('.page.active').classList.remove('active');
      const id = p === 0 ? 'inicio' : p === 8 ? 'resultado' : 'p' + p;
      document.getElementById(id).classList.add('active');
      document.querySelectorAll('.dot').forEach((d,i)=>d.classList.toggle('active', i+1===p));
    }

    function siguiente(a, s) {
      const v = document.querySelector(`input[name="p${a}"]:checked`);
      if (!v) { alert('¡Elige una opción!'); return; }
      respuestas[a] = parseInt(v.value);
      irA(s);
    }

    function calcular() {
      const v = document.querySelector(`input[name="p7"]:checked`);
      if (!v) { alert('¡Responde todo!'); return; }
      respuestas[7] = parseInt(v.value);

      let puntaje = Object.values(respuestas).reduce((a,b) => a + b, 0);
      let horasDia = [0, 2, 4, 6, 9][respuestas[1] || 0];
      let horasAnio = horasDia * 365;
      let dias = Math.round(horasAnio / 24);
      let energia = Math.round(horasAnio * 0.2);
      let co2 = Math.round(energia * 0.4);

      let nivel, color;
      if (puntaje <= 7) { nivel = "Bajo"; color = "#00ff88"; }
      else if (puntaje <= 14) { nivel = "Moderado"; color = "#ffd60a"; }
      else if (puntaje <= 21) { nivel = "Alto"; color = "#ff6b35"; }
      else { nivel = "Excesivo"; color = "#ff006e"; }

      irA(8);

      document.getElementById('nivel').innerHTML = nivel;
      document.getElementById('nivel').style.color = color;
      document.getElementById('puntaje').innerHTML = `Puntuación: ${puntaje}/28`;
      document.getElementById('impactos').innerHTML = `
        <p>Tiempo perdido: <strong>${horasAnio} h</strong> (${dias} días)</p>
        <p>Energía: <strong>${energia} kWh</strong> (${co2} kg CO₂)</p>
        <p>Riesgo: <strong>${nivel}</strong></p>
      `;

      new Chart(document.getElementById('chart'), {
        type: 'bar',
        data: {
          labels: ['Tiempo', 'Salud', 'Productividad', 'Energía'],
          datasets: [{
            data: [
              (respuestas[1] || 0) * 2,
              ((respuestas[3]||0) + (respuestas[4]||0) + (respuestas[6]||0) + (respuestas[7]||0)) / 2,
              (4 - (respuestas[5] || 0)) * 2.5,
              (respuestas[1] || 0) * 2
            ],
            backgroundColor: ['#ff006e', '#8338ec', '#3a86ff', '#00d4aa'],
            borderRadius: 8,
            borderSkipped: false
          }]
        },
        options: {
          responsive: true,
          plugins: { legend: { display: false } },
          scales: {
            y: { beginAtZero: true, max: 10, ticks: { stepSize: 2 } },
            x: { ticks: { color: '#fff', font: { weight: '600' } } }
          }
        }
      });
    }
  </script>
</body>
</html>